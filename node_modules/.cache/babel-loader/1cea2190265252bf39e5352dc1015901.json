{"ast":null,"code":"import _classCallCheck from\"/home/kali/CryCru/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kali/CryCru/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kali/CryCru/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/kali/CryCru/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/kali/CryCru/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{FaCircleNotch}from'react-icons/fa';var Scroller=/*#__PURE__*/function(_React$Component){_inherits(Scroller,_React$Component);var _super=_createSuper(Scroller);function Scroller(props){var _this;_classCallCheck(this,Scroller);_this=_super.call(this,props);_this.componentDidMount=function(){document.addEventListener('scroll',_this.trackScrolling);};_this.componentDidUpdate=function(){document.addEventListener('scroll',_this.trackScrolling);};_this.trackScrolling=function(){var wrappedElement=document.getElementById('scroller');if(_this.isBottom(wrappedElement)){if(_this.state.currentSlice<_this.props.children.length){_this.setState(function(){return{loading:true};});var self=_assertThisInitialized(_this);setTimeout(function(){self.setState(function(){return{currentSlice:parseInt(self.state.currentSlice)+parseInt(self.props.sliceSize),loading:false};});},100);}document.removeEventListener('scroll',_this.trackScrolling);}};_this.state={sliceSize:_this.props.sliceSize,currentSlice:_this.props.sliceSize,loading:false};return _this;}_createClass(Scroller,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('scroll',this.trackScrolling);}},{key:\"isBottom\",value:function isBottom(el){return el.getBoundingClientRect().bottom<=window.innerHeight;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"scroller\",className:this.props.className},this.props.children.slice(0,this.state.currentSlice),this.state.loading&&/*#__PURE__*/React.createElement(\"div\",{className:\"loading__notificaton\"},\"Fetching more coins\",/*#__PURE__*/React.createElement(FaCircleNotch,{size:\"2.4rem\",className:\"fa-spin\"})));}}]);return Scroller;}(React.Component);export default Scroller;","map":{"version":3,"sources":["/home/kali/CryCru/src/components/Scroller.js"],"names":["React","FaCircleNotch","Scroller","props","componentDidMount","document","addEventListener","trackScrolling","componentDidUpdate","wrappedElement","getElementById","isBottom","state","currentSlice","children","length","setState","loading","self","setTimeout","parseInt","sliceSize","removeEventListener","el","getBoundingClientRect","bottom","window","innerHeight","className","slice","Component"],"mappings":"ofAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,gBAA9B,C,GAEMC,CAAAA,Q,gHACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAQnBC,iBARmB,CAQC,UAAM,CACxBC,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,CAAoC,MAAKC,cAAzC,EACD,CAVkB,OAWnBC,kBAXmB,CAWE,UAAM,CACzBH,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,CAAoC,MAAKC,cAAzC,EACD,CAbkB,OAoBnBA,cApBmB,CAoBF,UAAM,CACrB,GAAME,CAAAA,cAAc,CAAGJ,QAAQ,CAACK,cAAT,CAAwB,UAAxB,CAAvB,CACA,GAAI,MAAKC,QAAL,CAAcF,cAAd,CAAJ,CAAmC,CACjC,GAAI,MAAKG,KAAL,CAAWC,YAAX,CAA0B,MAAKV,KAAL,CAAWW,QAAX,CAAoBC,MAAlD,CAA0D,CACxD,MAAKC,QAAL,CAAc,iBAAO,CAAEC,OAAO,CAAE,IAAX,CAAP,EAAd,EACA,GAAMC,CAAAA,IAAI,8BAAV,CACAC,UAAU,CAAC,UAAW,CACpBD,IAAI,CAACF,QAAL,CAAc,iBAAO,CACnBH,YAAY,CAAEO,QAAQ,CAACF,IAAI,CAACN,KAAL,CAAWC,YAAZ,CAAR,CAAoCO,QAAQ,CAACF,IAAI,CAACf,KAAL,CAAWkB,SAAZ,CADvC,CAEnBJ,OAAO,CAAE,KAFU,CAAP,EAAd,EAID,CALS,CAKP,GALO,CAAV,CAMD,CACDZ,QAAQ,CAACiB,mBAAT,CAA6B,QAA7B,CAAuC,MAAKf,cAA5C,EACD,CACF,CAnCkB,CAEjB,MAAKK,KAAL,CAAa,CACXS,SAAS,CAAE,MAAKlB,KAAL,CAAWkB,SADX,CAEXR,YAAY,CAAE,MAAKV,KAAL,CAAWkB,SAFd,CAGXJ,OAAO,CAAE,KAHE,CAAb,CAFiB,aAOlB,C,wFAOsB,CACrBZ,QAAQ,CAACiB,mBAAT,CAA6B,QAA7B,CAAuC,KAAKf,cAA5C,EACD,C,0CACQgB,E,CAAI,CACX,MAAOA,CAAAA,EAAE,CAACC,qBAAH,GAA2BC,MAA3B,EAAqCC,MAAM,CAACC,WAAnD,CACD,C,uCAiBQ,CACP,mBACE,2BAAK,EAAE,CAAC,UAAR,CAAmB,SAAS,CAAE,KAAKxB,KAAL,CAAWyB,SAAzC,EACG,KAAKzB,KAAL,CAAWW,QAAX,CAAoBe,KAApB,CAA0B,CAA1B,CAA6B,KAAKjB,KAAL,CAAWC,YAAxC,CADH,CAEG,KAAKD,KAAL,CAAWK,OAAX,eAAsB,2BAAK,SAAS,CAAC,sBAAf,qCAAyD,oBAAC,aAAD,EAAe,IAAI,CAAC,QAApB,CAA6B,SAAS,CAAC,SAAvC,EAAzD,CAFzB,CADF,CAMD,C,sBA5CoBjB,KAAK,CAAC8B,S,EA+C7B,cAAe5B,CAAAA,QAAf","sourcesContent":["import React from 'react'\nimport { FaCircleNotch } from 'react-icons/fa'\n\nclass Scroller extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      sliceSize: this.props.sliceSize,\n      currentSlice: this.props.sliceSize,\n      loading: false\n    }\n  }\n  componentDidMount = () => {\n    document.addEventListener('scroll', this.trackScrolling);\n  }\n  componentDidUpdate = () => {\n    document.addEventListener('scroll', this.trackScrolling);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.trackScrolling);\n  }\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n  trackScrolling = () => {\n    const wrappedElement = document.getElementById('scroller');\n    if (this.isBottom(wrappedElement)) {\n      if (this.state.currentSlice < this.props.children.length) {\n        this.setState(() => ({ loading: true }))\n        const self = this;\n        setTimeout(function() {\n          self.setState(() => ({\n            currentSlice: parseInt(self.state.currentSlice) + parseInt(self.props.sliceSize),\n            loading: false\n          }))\n        }, 100)\n      }\n      document.removeEventListener('scroll', this.trackScrolling);\n    }\n  }\n  render() {\n    return (\n      <div id=\"scroller\" className={this.props.className}>\n        {this.props.children.slice(0, this.state.currentSlice)}\n        {this.state.loading && <div className=\"loading__notificaton\">Fetching more coins<FaCircleNotch size=\"2.4rem\" className=\"fa-spin\" /></div>}\n      </div>\n    )\n  }\n}\n\nexport default Scroller;\n"]},"metadata":{},"sourceType":"module"}